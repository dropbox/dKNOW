[package]
name = "video-audio-api-server"
version.workspace = true
edition.workspace = true
authors.workspace = true
license.workspace = true

[dependencies]
# Orchestrator
video-audio-orchestrator = { path = "../orchestrator" }
video-audio-common = { path = "../common" }
video-audio-ocr = { path = "../ocr" }
video-audio-storage = { path = "../storage" }
video-audio-embeddings = { path = "../embeddings" }
video-audio-extractor = { path = "../audio-extractor" }

# Web framework
axum = "0.8"
tower-http = { version = "0.6", features = ["cors", "trace"] }

# Async runtime
tokio = { workspace = true }

# Serialization
serde = { workspace = true }
serde_json = { workspace = true }

# Error handling
anyhow = { workspace = true }

# Logging
tracing = { workspace = true }
tracing-subscriber = { workspace = true }

# UUID generation
uuid = { version = "1.11", features = ["v4", "serde"] }

# Image processing
image = { workspace = true }

# HTTP client for URL downloads
reqwest = { version = "0.12", features = ["json", "stream"] }

# S3 client for S3 downloads
aws-sdk-s3 = { workspace = true }
aws-config = "1.5"

# Temporary file management
tempfile = "3.13"

# Audio processing
hound = "3.5"

[dev-dependencies]
reqwest = { version = "0.12", features = ["json"] }
